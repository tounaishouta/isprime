<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>isprime</title>
  </head>
  <body>
    <h1>isprime</h1>
    <form onsubmit="main()">
      <input type="number" id="number" value="23"/>
      <input type="submit" value="Is this prime?"/>
    </form>
    <div id="stdout">
    </div>
    <script>

function decompose(n) {
  'strict';

  const factors = [];

  for (let d = 2; d*d <= n; d++) {
    while (n%d == 0) {
      n /= d;
      factors.push(d);
    }
  }

  if (n > 1)
    factors.push(n);

  return factors;
}

function message(n) {
  'strict';

  if (!Number.isInteger(n) || n <= 0)
    return '' + n + ' is not a positive integer.';

  const factors = decompose(n);

  if (factors.length == 1)
    return '' + n + ' is a prime number.';
  else
    return '' + n + ' can be decomposed into ' + factors.join('x') + '.';
}

function main() {
  'strict';
  event.preventDefault();
  const n = Number(document.getElementById('number').value);
  document.getElementById("stdout").innerHTML += '<p>' + message(n) + '</p>';
}

    </script>
  </body>
</html>
